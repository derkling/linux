[PATCH 0/2] thermal, OPP: move the CPU power estimation to the OPP library

Currently, IPA estimates the power dissipated by a CPU at each available OPP
using its capacitance (the dynamic-power-coefficient DT binding). This series
relocates this feature in the OPP library as a preparation for future changes.
More specifically:

   1. The current DT-based approach for power estimation will need deep
      changes to support SCMI-provided power values. While the thermal
      subsystem is not necessarily the best place to hide multiple power
      estimation methods, the OPP library appears to be a good candidate to
      implement the required platform abstraction.
   2. The energy models of CPUs will be needed by other clients in the future
      (such as the scheduler or CPUFreq governors for example) in order to
      make energy-aware decisions. The relocation to the OPP library will
      enable code re-use and all clients will benefit form the platform
      abstraction mentioned previously.

Quentin Perret (2):
      PM / OPP: introduce an OPP power estimation helper
      thermal: cpu_cooling: use power models from the OPP library

 drivers/cpufreq/arm_big_little.c   |  9 +++------
 drivers/cpufreq/cpufreq-dt.c       | 11 ++++-------
 drivers/cpufreq/mediatek-cpufreq.c | 11 ++++-------
 drivers/opp/core.c                 | 40 ++++++++++++++++++++++++++++++++++++++++
 drivers/opp/of.c                   | 61 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 drivers/opp/opp.h                  |  4 ++++
 drivers/thermal/cpu_cooling.c      | 49 ++++++++++++++++++-------------------------------
 include/linux/cpu_cooling.h        |  7 ++-----
 include/linux/pm_opp.h             | 20 ++++++++++++++++++++
 9 files changed, 156 insertions(+), 56 deletions(-)
