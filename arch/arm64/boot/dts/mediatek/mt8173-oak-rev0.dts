/*
 * Copyright (c) 2014 MediaTek Inc.
 * Author: Eddie Huang <eddie.huang@mediatek.com>
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 */

/dts-v1/;
#include "mt8173-oak.dtsi"

/ {
	model = "Mediatek Oak rev0 board";
	compatible = "google,oak-rev0", "google,oak", "mediatek,mt8173";

	backlight_lcd: backlight_lcd {
		enable-gpios = <&pio6397 23 1>;
	};

	panel: panel {
		compatible = "innolux,n116bge";
	};

	sound {
		compatible = "mediatek,mt8173-max98090";
		mediatek,audio-codec = <&max98090>;
		dvdd-supply = <&mt6397_vgp1_reg>;
		avdd-supply = <&mt6397_vgp4_reg>;
		pinctrl-names = "default";
		pinctrl-0 = <&aud_i2s2>;
		status = "okay";
	};
};

&charger {
	status = "disabled";
};

&dsi {
	mediatek,width = <1368>;
	mediatek,height = <768>;
};

&i2c0 {
	max98090: audio-codec@10 {
		compatible = "maxim,max98090";
		reg = <0x10>;
		interrupt-parent = <&pio>;
		interrupts = <9 IRQ_TYPE_EDGE_FALLING>;
		pinctrl-names = "default";
		pinctrl-0 = <&max98090_irq>;
	};
};

&i2c3 {
	pinctrl-names = "default";
	pinctrl-0 = <&i2c3_pins_a>;
	status = "okay";
	clock-frequency = <100000>;
	#address-cells = <0x1>;
	#size-cells = <0>;

	ite6151: edp-bridge@5c {
		compatible = "ite,it6151";
		reg = <0x5c>;
		rxreg = <0x6c>;
		power-gpio = <&pio 93 GPIO_ACTIVE_HIGH>;
		reset-gpio = <&pio 94 GPIO_ACTIVE_HIGH>;
		disp-bdg-supply = <&mt6397_vgp2_reg>;
		mediatek,panel = <&panel>;
		edid = [00 ff ff ff ff ff ff 00 0d ae 32 11 00 00 00 00
			13 17 01 04 95 1a 0e 78 02 14 35 92 55 53 95 29
			24 50 54 00 00 00 01 01 01 01 01 01 01 01 01 01
			01 01 01 01 01 01 da 1d 56 e2 50 00 20 30 88 1e
			8c 00 00 90 10 00 00 18 00 00 00 fe 00 4e 31 31
			36 42 47 45 2d 45 41 32 0a 20 00 00 00 fe 00 43
			4d 4e 0a 20 20 20 20 20 20 20 20 20 00 00 00 fe
			00 4e 31 31 36 42 47 45 2d 45 41 32 0a 20 00 48];
		port {
			dsi_in: endpoint {
				remote-endpoint = <&dsi_out>;
			};
		};
	};
};


&mt6397_vpca7_reg {
	regulator-always-on = "false";
};

&pio {
	max98090_irq: max98090_irq {
		pins1 {
			pinmux = <MT8173_PIN_9_EINT9__FUNC_GPIO9>;
			bias-pull-up;
		};
	};
};

&pmic {
	interrupts = <5 IRQ_TYPE_LEVEL_HIGH>;
};

&rt5650 {
	status = "disabled";
};

&rt5650_irq {
	status = "disabled";
};

&rt5676 {
	status = "disabled";
};

&rt5676_irq {
	status = "disabled";
};

&trackpad {
	interrupts = <7 IRQ_TYPE_LEVEL_LOW>;
};
