/* Copyright (c) 2016, The Linux Foundation. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 and
 * only version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 */


#include "msm8996-htc-common.dtsi"
#include "msm8996-htc-regulator.dtsi"
#include "msm8996-htc-pm.dtsi"
#include "msm8996-htc-nanohub-v2.dtsi"
#include "msm8996-touch-m1.dtsi"
#include "msm8996-key-t50.dtsi"
#include "msm8996-htc-fingerprint.dtsi"
#include "msm8996-htc-led.dtsi"
#include "dsi-panel-s1m1-ea8064tg.dtsi"
#include "dsi-panel-s1m1-s6e3ha3.dtsi"
#include "dsi-panel-t50.dtsi"
#include "msm8996-audio-marlin.dtsi"
#include "msm8996-camera-sensor-m1s1.dtsi"
#include "msm8996-camera-laser-m1s1.dtsi"
#include "msm8996-htc-nfc.dtsi"
#include "msm8996-htc-usb.dtsi"

&mdss_dsi0 {
	vddio-supply = <&pm8994_lvs2>;
	vci-supply = <&pm8994_l29>;

        qcom,platform-te-gpio = <&tlmm 10 0>;
        qcom,platform-reset-gpio = <&tlmm 39 0>;
        /delete-property/ qcom,platform-bklight-en-gpio;
};

&mdss_dsi1 {
	vddio-supply = <&pm8994_lvs2>;
	vci-supply = <&pm8994_l29>;

        qcom,platform-te-gpio = <&tlmm 10 0>;
        qcom,platform-reset-gpio = <&tlmm 39 0>;
        /delete-property/ qcom,platform-bklight-en-gpio;
};

&mdss_dsi_active {
        mux {
                pins = "gpio39";
                function = "gpio";
        };

        pmx_mdss {
                pins = "gpio39";
                drive-strength = <2>; /* 2 mA */
                output-high;
        };
};

&mdss_dsi_suspend {
        mux {
                pins = "gpio39";
                function = "gpio";
        };

        config {
                pins = "gpio39";
                drive-strength = <2>; /* 2 mA */
                output-low;
        };
};

&rpm_bus {
        rpm-regulator-ldoa29 {
                status = "okay";
                pm8994_l29: regulator-l29 {
                        regulator-min-microvolt = <3000000>;
                        regulator-max-microvolt = <3000000>;
                        qcom,init-voltage = <3000000>;
                        status = "okay";
                };
	};
};

&pcie1{
	compatible = "qcom,pci-msm-na";
};

&pcie2{
	compatible = "qcom,pci-msm-na";
};

&qusb_phy0 {
	qcom,qusb-phy-init-seq = <0xE8 0x80
				0x33 0x84
				0x81 0x88
				0xC0 0x8C
				0x30 0x08
				0x79 0x0C
				0x21 0x10
				0x14 0x9C
				0x9F 0x1C
				0x00 0x18>;
};

&soc {
        qcom,cnss {
                /delete-property/ wlan-ant-switch-supply;
        };

        pil_gpu: qcom,kgsl-hyp {
                qcom,firmware-name = "a530_zap_signed";
        };

        msm_gpu: qcom,kgsl-3d0@b00000 {
                qcom,firmware-name = "a530_zap_signed";
        };
};

/{
        qcom,battery-data {
                qcom,batt-id-range-pct = <15>;
                #include "batterydata-m1s1-prototype-id1.dtsi"
                #include "batterydata-m1s1-prototype-id2.dtsi"
        };
};

&pmi8994_haptics {
	status = "okay";
	qcom,wave-play-rate-us = <4878>;
	qcom,actuator-type = "lra";
	qcom,wave-shape = "sine";
	qcom,vmax-mv = <2828>;
};

&pmi8994_flash0 {
	qcom,duration = <600>;
};

&pmi8994_flash1 {
	qcom,duration = <600>;
};

&pmi8994_switch {
	qcom,duration = <600>;
};
