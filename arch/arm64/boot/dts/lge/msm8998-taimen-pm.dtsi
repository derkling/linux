/* Copyright (c) 2017, The Linux Foundation. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 and
 * only version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 */
#include <dt-bindings/msm/power-on.h>

&soc {
	taimen_batterydata: qcom,battery-data {
		qcom,batt-id-range-pct = <20>;
		#include "lge_blt35_tocad_3620mah.dtsi"
		#include "lge_blt35_lgc_3620mah.dtsi"
	};
};

&soc {
	qcom,bcl {
		qcom,bcl-soc-hotplug-list = <>;
		qcom,ibat-monitor {
			qcom,soc-low-threshold = <0>;
		};
	};

	qcom,limit_info-4 {
		qcom,emergency-frequency-mitigate;
	};

	qcom,limit_info-5 {
		qcom,emergency-frequency-mitigate;
	};

	qcom,limit_info-6 {
		qcom,emergency-frequency-mitigate;
	};

	qcom,limit_info-7 {
		qcom,emergency-frequency-mitigate;
	};

	qcom,sensor-information {
		compatible = "qcom,sensor-information";

		qcom,sensor-information-30 {
			qcom,sensor-type = "adc";
			qcom,sensor-name = "xo_therm";
		};

		qcom,sensor-information-31 {
			qcom,sensor-type = "adc";
			qcom,sensor-name = "bd_therm";
		};

		qcom,sensor-information-32 {
			qcom,sensor-type = "adc";
			qcom,sensor-name = "vts";
			qcom,scaling-factor = <10>;
		};

		qcom,sensor-information-33 {
			qcom,sensor-type = "adc";
			qcom,sensor-name = "led_sensor";
			qcom,scaling-factor = <10>;
		};

		qcom,sensor-information-34 {
			qcom,sensor-type = "adc";
			qcom,sensor-name = "battery";
			qcom,scaling-factor = <1000>;
		};
	};
};

&pm8998_vadc {
	chan@85 {
		label = "vcoin";
		reg = <0x85>;
		qcom,decimation = <2>;
		qcom,pre-div-channel-scaling = <1>;
		qcom,calibration-type = "absolute";
		qcom,scale-function = <0>;
		qcom,hw-settle-time = <0>;
		qcom,fast-avg-setup = <0>;
	};

	chan@4c {
		label = "xo_therm";
		reg = <0x4c>;
		qcom,decimation = <2>;
		qcom,pre-div-channel-scaling = <0>;
		qcom,calibration-type = "ratiometric";
		qcom,scale-function = <4>;
		qcom,hw-settle-time = <2>;
		qcom,fast-avg-setup = <0>;
	};

	chan@4d {
		label = "pcb_rev";
		reg = <0x4d>;
		qcom,decimation = <0>;
		qcom,pre-div-channel-scaling = <0>;
		qcom,calibration-type = "ratiometric";
		qcom,scale-function = <0>;
		qcom,hw-settle-time = <1>;
		qcom,fast-avg-setup = <0>;
	};

	chan@4f {
		label = "pa_therm1";
		reg = <0x4f>;
		qcom,decimation = <2>;
		qcom,pre-div-channel-scaling = <0>;
		qcom,calibration-type = "ratiometric";
		qcom,scale-function = <2>;
		qcom,hw-settle-time = <2>;
		qcom,fast-avg-setup = <0>;
	};

	chan@50 {
		label = "pa_therm2";
		reg = <0x50>;
		qcom,decimation = <2>;
		qcom,pre-div-channel-scaling = <0>;
		qcom,calibration-type = "ratiometric";
		qcom,scale-function = <2>;
		qcom,hw-settle-time = <2>;
		qcom,fast-avg-setup = <0>;
	};

	chan@51 {
		label = "bd_therm";
		reg = <0x51>;
		qcom,decimation = <2>;
		qcom,pre-div-channel-scaling = <0>;
		qcom,calibration-type = "ratiometric";
		qcom,scale-function = <2>;
		qcom,hw-settle-time = <2>;
		qcom,fast-avg-setup = <0>;
	};

	chan@0e {
		label = "usb_id_lv";
		reg = <0x0e>;
		qcom,decimation = <0>;
		qcom,pre-div-channel-scaling = <0>;
		qcom,calibration-type = "ratiometric";
		qcom,scale-function = <0>;
		qcom,hw-settle-time = <5>;
		qcom,fast-avg-setup = <0>;
	};
};

&pm8998_adc_tm {
	chan@83 {
		label = "vph_pwr";
		reg = <0x83>;
		qcom,pre-div-channel-scaling = <1>;
		qcom,calibration-type = "absolute";
		qcom,scale-function = <0>;
		qcom,hw-settle-time = <0>;
		qcom,btm-channel-number = <0x60>;
	};

	chan@4f {
		label = "pa_therm1";
		reg = <0x4f>;
		qcom,decimation = <2>;
		qcom,pre-div-channel-scaling = <0>;
		qcom,calibration-type = "ratiometric";
		qcom,scale-function = <2>;
		qcom,hw-settle-time = <2>;
		qcom,fast-avg-setup = <0>;
		qcom,btm-channel-number = <0x68>;
		qcom,thermal-node;
	};

	chan@50 {
		label = "pa_therm2";
		reg = <0x50>;
		qcom,decimation = <2>;
		qcom,pre-div-channel-scaling = <0>;
		qcom,calibration-type = "ratiometric";
		qcom,scale-function = <2>;
		qcom,hw-settle-time = <2>;
		qcom,fast-avg-setup = <0>;
		qcom,btm-channel-number = <0x70>;
		qcom,thermal-node;
	};

	chan@4c {
		label = "xo_therm";
		reg = <0x4c>;
		qcom,pre-div-channel-scaling = <0>;
		qcom,calibration-type = "ratiometric";
		qcom,scale-function = <4>;
		qcom,hw-settle-time = <2>;
		qcom,btm-channel-number = <0x78>;
		qcom,thermal-node;
	};

	chan@51 {
		label = "bd_therm";
		reg = <0x51>;
		qcom,pre-div-channel-scaling = <0>;
		qcom,calibration-type = "ratiometric";
		qcom,scale-function = <2>;
		qcom,hw-settle-time = <2>;
		qcom,btm-channel-number = <0x80>;
		qcom,thermal-node;
	};
};

&pmi8998_gpios {
	gpio@c800 {
		qcom,master-en = <1>;		/* Enable GPIO */
		status = "okay";
	};
};

&pmi8998_charger {
	qcom,usb-icl-ua = <1500000>;
	qcom,fcc-max-ua = <500000>;
	qcom,hvdcp-disable;
	qcom,auto-recharge-soc;
};

&pmi8998_fg {
	qcom,battery-data = <&taimen_batterydata>;
	qcom,fg-jeita-thresholds = <0 20 45 55>;
	qcom,fg-jeita-hyst-temp = <2>;
	qcom,fg-recharge-soc-thr = <97>;
	qcom,fg-auto-recharge-soc;
	qcom,hold-soc-while-full;
	qcom,fg-esr-tight-lt-filter-micro-pct = <30000>;
	qcom,fg-esr-broad-lt-filter-micro-pct = <30000>;
	qcom,fg-batt-temp-compensation;
	qcom,fg-temp-charging-factor = <35>;
	qcom,fg-temp-info = <(-300)  (-200)  (-190)  (-180)
			(-170)  (-160)  (-150)  (-100)
			(-50)   0       50      100
			150     200     250     300
			350     400     450     500
			550     600     700     800
			900>;
	qcom,fg-temp-comp-factor = <(-70)  (-10)  (-5)  0
				5  10  10  20
				30  30  10  10
				0  (-10)  (-20)  (-30)
				(-40)  (-40)  (-65)  (-60)
				(-60)  (-40)  (-40)  (-30)
				(-30)>;
};

&pmi8998_pdphy {
	vbus-supply = <&smb138x_vbus>;
};

&smb138x_parallel_slave {
	qcom,parallel-mode = <2>;

	smb138x_vbus: qcom,smb138x-vbus {
		status = "okay";
	};
};

&spmi_bus {
	qcom,pm8998@0 {
		qcom,power-on@800 {
			qcom,kpdpwr-sw-debounce;
			qcom,s3-debounce = <16>;
			qcom,s3-src = "kpdpwr";
			qcom,hard-reset-poweroff-type =
				<PON_POWER_OFF_WARM_RESET>;
			qcom,pon_1 {  /* KPD_PWR_N */
				qcom,support-reset = <1>;
				qcom,s1-timer = <6720>;
				qcom,s2-timer = <1000>;
				qcom,s2-type = <8>;
			};
			qcom,pon_2 {  /* RESIN_N */
				qcom,support-reset = <0>;
			};
			qcom,pon_3 {  /* KPD_PWR_N AND RESIN_N */
				qcom,support-reset = <0>;
			};
		};
	};
};
